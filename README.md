# HighlighterApp

Приложение на Java для подсвечивания (выделения жёлтым цветом) высоких или рукотворных объектов на монохромных снимках. Позволяет использовать либо простой пороговый алгоритм, либо расширенный метод с морфологическими операциями (расширение, удаление длинных линий).

## Структура проекта

- **DragDropPanel.java** — панель с пунктирной рамкой для перетаскивания (Drag & Drop) файла.
- **MainFrame.java** — главное окно приложения, содержащее вкладки «До»/«После», кнопки, слайдеры, чекбокс для морфологии и логику сохранения.
- **Morfologiya.java** — класс с морфологическими операциями (расширение, удаление длинных линий).
- **ObrabotkaIzobrazheniya.java** — реализует два алгоритма: наивный (простой порог) и морфологический (бинаризация + расширение + удаление линий), а также считает количество выделенных пикселей.

## Возможности приложения

1. **Режимы обработки**
   - **Простой пороговый**: пиксели, у которых средняя яркость (R+G+B)/3 превышает заданный порог, окрашиваются в жёлтый цвет.
   - **Морфологический**: после пороговой бинаризации к изображениям применяются расширение (объединяет белые фрагменты) и удаление длинных линий (уменьшает влияние дорог).

2. **Drag & Drop**
   - Пользователь может перетащить файл изображения прямо в окно приложения.

3. **Вкладки «До» и «После»**
   - Исходное изображение и результат обработки располагаются на разных вкладках, между которыми можно переключаться.

4. **Регулировка параметров**
   - Порог яркости (0–255).
   - Радиус расширения (0–5).
   - Длина удаления линий (0–100).
   - Ползунки для морфологии отображаются только при включённом чекбоксе «Морфология (расширение / удаление линий)».

5. **Сохранение результата**
   - Экспорт только в PNG или JPEG.
   - Приложение добавляет нужное расширение автоматически, если пользователь его не указал.

6. **Статистика**
   - Выводит время обработки в миллисекундах.
   - Показывает число «подсвеченных» (жёлтых) пикселей.

7. **Проверка перед загрузкой нового изображения**
   - Если у пользователя уже есть готовый результат, программа предложит сохранить его, чтобы избежать потери данных.


# Краткое руководство

## Загрузка изображения

- Нажмите кнопку «Загрузить» в верхней панели или перетащите файл в пунктирную область на вкладке «До».
- Поддерживаются популярные форматы: PNG, JPEG, GIF, BMP (зависит от ImageIO).

## Выбор режима

- Снимите галочку «Морфология (расширение / удаление линий)», если нужен только простой порог.
- Поставьте галочку, чтобы задействовать расширенные операции (после пороговой бинаризации).

## Настройка параметров

- **Порог (Threshold)**: чем выше, тем ярче должен быть пиксель для подсветки.
- **Радиус расширения (Dilatation Radius)**: «расползает» белые области, если включена морфология.
- **Длина удаления линий (Line Removal)**: убирает длинные дороги, если они представляют собой непрерывную линию белых пикселей. При слишком большом значении могут удаляться узкие здания.

## Обработка

- Нажмите «Обработать».
- Время выполнения отобразится в правой части верхней панели, а вкладка «После» покажет итог.

## Сохранение

- Выберите формат (PNG или JPEG).
- Нажмите «Сохранить» и укажите путь к файлу. Если не добавите расширение вручную, приложение добавит его автоматически.

## Загрузка нового изображения

- Если результат уже есть, программа предложит сохранить его, чтобы избежать потери.

# Ограничения и замечания

- Алгоритм не предназначен для идеального распознавания сложных форм. Он использует простые морфологические операции и порог яркости, что достаточно для базового выделения.
- Для больших снимков (более нескольких тысяч пикселей по каждой стороне) время обработки может быть заметным.
- При работе в оконном режиме интерфейс оптимизирован, но если окно слишком сильно уменьшить, часть элементов может «прятаться» в сворачиваемых панелях или в полосах прокрутки.

# Обратная связь

Любые предложения по улучшению или сообщения об ошибках можно оставлять в разделе Issues или присылать Pull Request.

# Демонстрация работы

https://github.com/user-attachments/assets/3dc88d8f-692a-402d-8718-52fa86c56dfa



